<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <title>Cultivo Virtual</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>

  <div class="app-layout">

    <!-- Mobile Header (Visible only on mobile) -->
    <header class="mobile-header">
      <button id="menuToggle" class="icon-btn">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 12h18M3 6h18M3 18h18" />
        </svg>
      </button>
      <span class="brand-mobile">Cultivo Virtual</span>
    </header>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-top">
        <div class="sidebar-brand">
          <h2>Cultivo Virtual</h2>
        </div>

        <nav class="sidebar-menu">
          <button onclick="App.navigate('micultivo')" id="nav-micultivo">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
            </svg>
            <span>Mi Cultivo</span>
          </button>

          <button onclick="App.navigate('gtl')" id="nav-gtl">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="9" cy="21" r="1" />
              <circle cx="20" cy="21" r="1" />
              <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" />
            </svg>
            <span>Marketplace (GTL)</span>
          </button>

          <button onclick="App.navigate('foro')" id="nav-foro">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path
                d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z" />
            </svg>
            <span>Foro</span>
          </button>

          <button onclick="App.navigate('pedidos')" id="nav-pedidos">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path
                d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" />
              <polyline points="3.27 6.96 12 12.01 20.73 6.96" />
              <line x1="12" y1="22.08" x2="12" y2="12" />
            </svg>
            <span>Pedidos</span>
          </button>
        </nav>
      </div>

      <!-- User Profile (Bottom) -->
      <div class="sidebar-footer">
        <div class="user-profile">
          <div class="user-avatar">U</div>
          <div class="user-details">
            <strong id="usernameDisplay">Usuario</strong>
            <span id="tokenCounter" class="token-badge">0 ðŸŸ¢</span>
          </div>
        </div>
        <button onclick="State.logout()" class="logout-mini" title="Cerrar SesiÃ³n">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
            <polyline points="16 17 21 12 16 7" />
            <line x1="21" y1="12" x2="9" y2="12" />
          </svg>
        </button>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-container">
      <div id="loader" class="loader hidden"></div>

      <!-- Contenedor DinÃ¡mico Solicitado -->
      <div id="app-view" class="fade-in"></div>
    </main>

    <!-- Overlay for mobile sidebar -->
    <div id="sidebarOverlay" class="overlay hidden"></div>

  </div>

  <script src="js/state.js"></script>
  <script src="js/app.js"></script> <!-- Includes logic for navigation & sidebar -->
</body>

</html>